import{j as u}from"./controls-D0X05BJI.js";import{a as i}from"./react-gDunJgQi.js";import{d as m,g as c,m as f,l as p,n as l,o as g,f as x,V as h}from"./index-DDoHmH-b.js";import{K as V}from"./uikit-B7lfAg5T.js";const j=({Action:e,viewerKey:r,viewerType:t,dataset:n,children:o})=>{const a=m(c),s=f(p.handlerRun);return i.useEffect(()=>{s.fetch({Keys:[r],Type:t,Method:e?.Handler,Arguments:e?.Arguments,Dataset:n,UserId:a?.id??a?.username})},[e,r,t]),o({status:s.status,data:s.state})},H=i.memo(({Action:e,viewerKey:r,viewerType:t,dataset:n,onTransition:o})=>!e||!t||!r||l(n)?null:u.jsx(j,{Action:e,viewerType:t,viewerKey:r,dataset:n,children:({status:a,data:s})=>{if(g([a]))return u.jsx(V,{loading:!0});if(l(s))return null;const d=x(s)?void 0:s._t;return u.jsx(h,{activeViewerType:d,panelKey:r,panelType:t,data:s,onTransition:o})}}));H.displayName="ViewHandlerAction";export{H as default};
